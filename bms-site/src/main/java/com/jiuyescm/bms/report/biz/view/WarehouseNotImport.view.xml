<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Arguments/>
  <Context/>
  <Model>
    <DataType name="dtWarehouseNotImport">
      <Property name="creationType">com.jiuyescm.bms.report.vo.BizWarehouseNotImportVo</Property>
      <PropertyDef name="importType">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="customerId">
        <Property></Property>
        <Property name="label">商家编号</Property>
      </PropertyDef>
      <PropertyDef name="customerName">
        <Property></Property>
        <Property name="label">商家名称</Property>
      </PropertyDef>
      <PropertyDef name="shortName">
        <Property></Property>
        <Property name="label">商家简称</Property>
      </PropertyDef>
    </DataType>
    <DataType name="dtCondition">
      <PropertyDef name="importDate"/>
      <PropertyDef name="warehouseCode"/>
      <PropertyDef name="bizType"/>
    </DataType>
  </Model>
  <View>
    <ClientEvent name="onReady">var myframe= window.parent.$id(&quot;WarehouseNotImportFrame&quot;).objects[0];&#xD;
var userData=myframe.get(&quot;userData&quot;);&#xD;
if(userData){&#xD;
	var data = view.get(&quot;#dsCondition.data&quot;).current;&#xD;
	data.set(&quot;importDate&quot;,userData.importDate);&#xD;
	data.set(&quot;warehouseCode&quot;,userData.warehouseCode);&#xD;
	data.set(&quot;bizType&quot;,userData.bizType);&#xD;
}&#xD;
var tmpDataSet=view.get(&quot;#dsWarehouseNotImport&quot;);&#xD;
var tmpFormCondition=view.get(&quot;#queryForm&quot;);&#xD;
var entity=tmpFormCondition.get(&quot;entity&quot;);&#xD;
//tmpDataSet.set(&quot;parameter&quot;, entity).flushAsync();&#xD;
&#xD;
with (view.get(&quot;#dsWarehouseNotImport&quot;)){&#xD;
					set(&quot;parameter&quot;, entity);&#xD;
					flushAsync();&#xD;
				}</ClientEvent>
    <DataSet id="dsCondition">
      <ClientEvent name="onCreate">view.get(&quot;#dsCondition.data&quot;).insert();&#xD;
</ClientEvent>
      <Property name="dataType">[dtCondition]</Property>
    </DataSet>
    <DataSet id="dsWarehouseNotImport">
      <Property name="dataType">[dtWarehouseNotImport]</Property>
      <Property name="dataProvider">bizWarehouseImportReportController#queryNotImport</Property>
      <Property name="loadMode">manual</Property>
      <Property name="pageSize">20</Property>
    </DataSet>
    <ToolBar>
      <DataPilot>
        <Property name="dataSet">dsWarehouseNotImport</Property>
        <Property name="itemCodes">pages,pageSize</Property>
      </DataPilot>
    </ToolBar>
    <Container>
      <DataGrid>
        <Property name="dataSet">dsWarehouseNotImport</Property>
        <Property name="dataType">dtWarehouseNotImport</Property>
        <Property name="readOnly">false</Property>
        <DataColumn name="customerId">
          <Property name="property">customerId</Property>
        </DataColumn>
        <DataColumn name="customerName">
          <Property name="property">customerName</Property>
        </DataColumn>
        <DataColumn name="shortName">
          <Property name="property">shortName</Property>
        </DataColumn>
      </DataGrid>
      <AutoForm id="queryForm">
        <Property name="dataSet">dsCondition</Property>
        <Property name="dataType">dtCondition</Property>
        <Property name="showLabel">false</Property>
        <AutoFormElement>
          <Property name="name">importDate</Property>
          <Property name="property">importDate</Property>
          <Property name="visible">false</Property>
          <Editor/>
        </AutoFormElement>
        <AutoFormElement>
          <Property name="name">warehouseCode</Property>
          <Property name="property">warehouseCode</Property>
          <Property name="label">-</Property>
          <Property name="visible">false</Property>
          <Editor/>
        </AutoFormElement>
        <AutoFormElement>
          <Property name="name">bizType</Property>
          <Property name="property">bizType</Property>
          <Property name="visible">false</Property>
          <Editor/>
        </AutoFormElement>
      </AutoForm>
    </Container>
  </View>
</ViewConfig>
